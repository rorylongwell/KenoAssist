
@model IncidentReportModel

<div class="page">
    <div class="heading">
      <div class="vertical_align">

        <a href="javascript:void(0);" onclick="history.go(-1);"><p class="return">&#10094 back</p></a>

            </div>
        
<h1 class="minus-margin-60">Add Incident</h1>
</div>

     <div class="content-margin-40">

@using (Html.BeginForm("AddInjury", "Incident", FormMethod.Post,  new { enctype = "multipart/form-data"})){

 @Html.HiddenFor(m => m.IncidentId)
 @Html.HiddenFor(m => m.StaffNames)
 @Html.HiddenFor(m => m.Date)
 @Html.HiddenFor(m => m.Time)

 if(Model.PhotoUrl != null){
 for(int i = 0; i < Model.PhotoUrl.Count; i++)
{
    @Html.HiddenFor(model => Model.PhotoUrl[i])
}
}

<label>Injury</label>
  @Html.ValidationMessageFor(model => model.Injury)    
  @Html.TextBoxFor(m => m.Injury, new { placeholder = "", @class = "" });

  <label>Area Injured</label>
  @Html.ValidationMessageFor(model => model.InjuryArea) 
  @Html.TextBoxFor(m => m.InjuryArea, new { placeholder = "", @class = "" });


  <label>Include Photos</label>
  <input type="checkbox" onclick="toggleImages()"/>
        
        
  <div id="imageDiv" style="display:none">      
  <label>Photo Evidence</label>

    <input type="file" name="file-1[] files" id="file-1" class="inputfile inputfile-1"data-multiple-caption="{count} files selected" multiple />
                    <label for="file-1" class="file-uploader">

        <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
<g>
    <path class="st28" d="M22,4.7h-3.7l-0.7-1.6c-0.2-0.4-0.5-0.6-0.9-0.6H7.4C7,2.5,6.6,2.7,6.4,3.1L5.7,4.7H4.9V4.5c0-0.6-0.5-1-1-1
        H3.4c-0.6,0-1,0.5-1,1v0.3H2c-0.6,0-1,0.5-1,1v14.7c0,0.6,0.5,1,1,1H22c0.6,0,1-0.5,1-1V5.8C23,5.2,22.5,4.7,22,4.7z M4.4,8.8
        c-0.6,0-1.1-0.5-1.1-1.1c0-0.6,0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1C5.5,8.4,5,8.8,4.4,8.8z M12,18.9c-3.2,0-5.8-2.6-5.8-5.8
        c0-3.2,2.6-5.8,5.8-5.8c3.2,0,5.8,2.6,5.8,5.8C17.8,16.3,15.2,18.9,12,18.9z M21,8.8h-2.7V6.7H21V8.8z"/>
    <circle class="st28" cx="12" cy="13.1" r="3.9"/>
</g></svg>            <span>Select Photo&hellip;</span>
                </div>
        </label>

         
   @if(Model.PhotoUrl != null){
  foreach(var image in Model.PhotoUrl){
  <div class="column">
    <img src="@Url.Content(image)" style="width:100%"  class="hover-shadow cursor">
  </div>
}       
}
        
 <button id="imageUpload" type="submit" name="submitButton" value="Upload" class="fullwidth-ghost-btn upload-btn" disabled="disabled"
        >
            <label>
                <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
<g>
    <path class="st28" d="M22,4.7h-3.7l-0.7-1.6c-0.2-0.4-0.5-0.6-0.9-0.6H7.4C7,2.5,6.6,2.7,6.4,3.1L5.7,4.7H4.9V4.5c0-0.6-0.5-1-1-1
        H3.4c-0.6,0-1,0.5-1,1v0.3H2c-0.6,0-1,0.5-1,1v14.7c0,0.6,0.5,1,1,1H22c0.6,0,1-0.5,1-1V5.8C23,5.2,22.5,4.7,22,4.7z M4.4,8.8
        c-0.6,0-1.1-0.5-1.1-1.1c0-0.6,0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1C5.5,8.4,5,8.8,4.4,8.8z M12,18.9c-3.2,0-5.8-2.6-5.8-5.8
        c0-3.2,2.6-5.8,5.8-5.8c3.2,0,5.8,2.6,5.8,5.8C17.8,16.3,15.2,18.9,12,18.9z M21,8.8h-2.7V6.7H21V8.8z"/>
    <circle class="st28" cx="12" cy="13.1" r="3.9"/>
</g></svg>            <span>Select Photo&hellip;</span>
                </div>
                </label>
        </button>

     </div>


<input type="submit" name="submitButton" value="Next" class="button-bottom" />
}        </div>

    <script>
        var input = document.querySelector('#imageUpload');

        input.disabled = true;

        document.getElementById('file-1').addEventListener('change', function () {
        if (this.value.length > 0) {
            input.disabled = false;
        } else {
            input.disabled = true;
        }
        });

        </script>

    <script>

    function toggleImages() {
    var x = document.getElementById("imageDiv");
    if (x.style.display === "none") {
        x.style.display = "block";
    } else {
        x.style.display = "none";
    }
}    
        
    </script>