
@model IncidentReportModel

<h2>Add Incident</h2>

@using (Html.BeginForm("AddInjury", "Incident", FormMethod.Post,  new { enctype = "multipart/form-data"})){

 @Html.HiddenFor(m => m.IncidentId)
 @Html.HiddenFor(m => m.StaffNames)
 @Html.HiddenFor(m => m.Date)
 @Html.HiddenFor(m => m.Time)

 if(Model.PhotoUrl != null){
 for(int i = 0; i < Model.PhotoUrl.Count; i++)
{
    @Html.HiddenFor(model => Model.PhotoUrl[i])
}
}

<label>Injury</label>
  @Html.TextBoxFor(m => m.Injury, new { placeholder = "", @class = "" });

  <label>Injury Area</label>
  @Html.TextBoxFor(m => m.InjuryArea, new { placeholder = "", @class = "" });

  <label>Uploaded Photos</label>

   <input type="file" name="files"/>

   if(Model.PhotoUrl != null){
  foreach(var image in Model.PhotoUrl){
  <div class="column">
    <img src="@Url.Content(image)" style="width:100%"  class="hover-shadow cursor">
  </div>
}
}

 <input type="submit" name="submitButton" value="Upload" />
<input type="submit" name="submitButton" value="Next" />
}